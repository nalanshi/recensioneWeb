<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recensioni - ReviewDiver!</title>
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="../css/pages.css" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <!-- HEADER_PLACEHOLDER -->

  <main id="main-content" class="main-content">
    <!-- Hero Section -->
    <section class="reviews-hero">
      <div class="reviews-container">
        <h1>Recensioni</h1>
        <p>Scopri le recensioni più dettagliate e affidabili sui migliori prodotti tecnologici e gastronomici</p>
      </div>
    </section>

    <div class="reviews-container">
      <!-- Filtri -->
      <section class="reviews-filters" aria-label="Filtri recensioni">
        <div class="filter-group">
          <label for="category-filter">Categoria</label>
          <select id="category-filter" class="filter-select">
            <option value="">Tutte le categorie</option>
            <option value="tecnologia">Tecnologia</option>
            <option value="gastronomia">Gastronomia</option>
            <option value="casa">Casa e Giardino</option>
            <option value="sport">Sport e Fitness</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="rating-filter">Valutazione</label>
          <select id="rating-filter" class="filter-select">
            <option value="">Tutte le valutazioni</option>
            <option value="5">5 stelle</option>
            <option value="4">4+ stelle</option>
            <option value="3">3+ stelle</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="search-filter">Cerca</label>
          <input type="text" id="search-filter" class="filter-input" placeholder="Cerca recensioni...">
        </div>

        <div class="filter-group">
          <label for="sort-filter">Ordina per</label>
          <select id="sort-filter" class="filter-select">
            <option value="recent">Più recenti</option>
            <option value="rating">Valutazione</option>
            <option value="popular">Più popolari</option>
          </select>
        </div>
      </section>

<section class="reviews-grid" id="reviews-grid" aria-label="Elenco recensioni">
        <!-- Le recensioni verranno caricate dinamicamente tramite PHP -->
        
        <!-- Esempio di recensioni statiche per il design -->
        <a href="../php/recensione.php?id=1" class="review-card" data-category="tecnologia" data-rating="5" aria-label="Leggi la recensione completa di Smartphone XYZ Pro">
          <img src="../images/products/product1.jpg" alt="Smartphone XYZ Pro" class="review-image">
          <div class="review-content">
            <div class="review-header">
              <h3 class="review-title">Smartphone XYZ Pro: Un Concentrato di Innovazione</h3>
              <div class="review-rating" aria-label="Valutazione 5 su 5">
                <span class="sr-only">Valutazione 5 su 5</span>
                <i aria-hidden="true" class="fas fa-star star"></i>
                <i aria-hidden="true" class="fas fa-star star"></i>
                <i aria-hidden="true" class="fas fa-star star"></i>
                <i aria-hidden="true" class="fas fa-star star"></i>
                <i aria-hidden="true" class="fas fa-star star"></i>
              </div>
            </div>
            <div class="review-meta">
              <span class="review-author">Marco Rossi</span>
              <span>•</span>
              <span class="review-date">15 Gennaio 2025</span>
            </div>
            <p class="review-excerpt">
              Dopo settimane di utilizzo intensivo, posso affermare che questo smartphone rappresenta davvero l'eccellenza nel settore mobile. La fotocamera è semplicemente straordinaria...
            </p>
            <div class="review-tags">
              <span class="review-tag">Tecnologia</span>
              <span class="review-tag">Smartphone</span>
              <span class="review-tag">Fotografia</span>
            </div>
          </div>
        </div></a>

        <a href="../php/recensione.php?id=2" class="review-card" data-category="tecnologia" data-rating="4" aria-label="Leggi la recensione completa di Fotocamera DSLR 4K">
          <img src="../images/products/product2.jpg" alt="Fotocamera DSLR 4K" class="review-image">
          <div class="review-content">
            <div class="review-header">
              <h3 class="review-title">Fotocamera DSLR 4K: Qualità Professionale</h3>
              <div class="review-rating" aria-label="Valutazione 4 su 5">
                <span class="sr-only">Valutazione 4 su 5</span>
                <i aria-hidden="true" class="fas fa-star star"></i>
                <i aria-hidden="true" class="fas fa-star star"></i>
                <i aria-hidden="true" class="fas fa-star star"></i>
                <i aria-hidden="true" class="fas fa-star star"></i>
                <i aria-hidden="true" class="fas fa-star star empty"></i>
              </div>
            </div>
            <div class="review-meta">
              <span class="review-author">Laura Bianchi</span>
              <span>•</span>
              <span class="review-date">12 Gennaio 2025</span>
            </div>
            <p class="review-excerpt">
              Una fotocamera che soddisfa le aspettative di un fotografo semi-professionale. La qualità delle immagini è eccellente, anche se il peso potrebbe essere un problema...
            </p>
            <div class="review-tags">
              <span class="review-tag">Tecnologia</span>
              <span class="review-tag">Fotografia</span>
              <span class="review-tag">4K</span>
            </div>
          </div>
        </div></a>

        <a href="../php/recensione.php?id=3" class="review-card" data-category="tecnologia" data-rating="5" aria-label="Leggi la recensione completa di Cuffie Wireless Premium">
          <img src="../images/products/product3.jpg" alt="Cuffie Wireless Premium" class="review-image">
          <div class="review-content">
            <div class="review-header">
              <h3 class="review-title">Cuffie Wireless Premium: Audio Immersivo</h3>
              <div class="review-rating" aria-label="Valutazione 5 su 5">
                <span class="sr-only">Valutazione 5 su 5</span>
                <i aria-hidden="true" class="fas fa-star star"></i>
                <i aria-hidden="true" class="fas fa-star star"></i>
                <i aria-hidden="true" class="fas fa-star star"></i>
                <i aria-hidden="true" class="fas fa-star star"></i>
                <i aria-hidden="true" class="fas fa-star star"></i>
              </div>
            </div>
            <div class="review-meta">
              <span class="review-author">Alessandro Verdi</span>
              <span>•</span>
              <span class="review-date">10 Gennaio 2025</span>
            </div>
            <p class="review-excerpt">
              La cancellazione del rumore è impressionante e la qualità audio supera le aspettative. Perfette per lunghe sessioni di ascolto e chiamate professionali...
            </p>
            <div class="review-tags">
              <span class="review-tag">Audio</span>
              <span class="review-tag">Wireless</span>
              <span class="review-tag">Premium</span>
            </div>
          </div>
        </div></a>
      </section>

      <!-- Carica Altri -->
      <div class="load-more">
        <button class="load-more-btn" id="load-more-btn" tabindex="0" aria-label="Carica altre recensioni">
          <i aria-hidden="true" class="fas fa-plus"></i> Carica altre recensioni
        </button>
      </div>

      <!-- Messaggio nessuna recensione (nascosto di default) -->
      <div class="no-reviews" id="no-reviews" style="display: none;">
        <i aria-hidden="true" class="fas fa-search"></i>
        <h3>Nessuna recensione trovata</h3>
        <p>Prova a modificare i filtri di ricerca per trovare altre recensioni.</p>
      </div>
    </div>
  </main>

  <!-- FOOTER_PLACEHOLDER -->

  <script src="../js/main.js"></script>
  <script>
    // Script per la gestione dei filtri e caricamento dinamico
    document.addEventListener('DOMContentLoaded', function() {
      const categoryFilter = document.getElementById('category-filter');
      const ratingFilter = document.getElementById('rating-filter');
      const searchFilter = document.getElementById('search-filter');
      const sortFilter = document.getElementById('sort-filter');
      const reviewsGrid = document.getElementById('reviews-grid');
      const loadMoreBtn = document.getElementById('load-more-btn');
      const noReviews = document.getElementById('no-reviews');

      // Gestione filtri
      function applyFilters() {
        const category = categoryFilter.value;
        const rating = ratingFilter.value;
        const search = searchFilter.value.toLowerCase();
        const sort = sortFilter.value;

        const reviews = reviewsGrid.querySelectorAll('.review-card');
        let visibleCount = 0;

        reviews.forEach(review => {
          let show = true;

          // Filtro categoria
          if (category && review.dataset.category !== category) {
            show = false;
          }

          // Filtro rating
          if (rating && parseInt(review.dataset.rating) < parseInt(rating)) {
            show = false;
          }

          // Filtro ricerca
          if (search) {
            const title = review.querySelector('.review-title').textContent.toLowerCase();
            const excerpt = review.querySelector('.review-excerpt').textContent.toLowerCase();
            if (!title.includes(search) && !excerpt.includes(search)) {
              show = false;
            }
          }

          review.style.display = show ? 'block' : 'none';
          if (show) visibleCount++;
        });

        // Mostra messaggio se nessuna recensione
        noReviews.style.display = visibleCount === 0 ? 'block' : 'none';
        reviewsGrid.style.display = visibleCount === 0 ? 'none' : 'grid';
      }

      // Event listeners per i filtri
      categoryFilter.addEventListener('change', applyFilters);
      ratingFilter.addEventListener('change', applyFilters);
      searchFilter.addEventListener('input', applyFilters);
      sortFilter.addEventListener('change', applyFilters);

      // Gestione caricamento altre recensioni
      loadMoreBtn.addEventListener('click', function() {
        // Qui si implementerebbe la chiamata AJAX per caricare altre recensioni
        
        // Simulazione caricamento
        this.innerHTML = '<i aria-hidden="true" class="fas fa-spinner fa-spin"></i> Caricamento...';
        
        setTimeout(() => {
          this.innerHTML = '<i aria-hidden="true" class="fas fa-plus"></i> Carica altre recensioni';
          // Qui si aggiungerebbero le nuove recensioni al DOM
        }, 1000);
      });

      // Gestione click su recensione per aprire dettaglio
      reviewsGrid.addEventListener('click', function(e) {
        const reviewCard = e.target.closest('.review-card');
        if (reviewCard && reviewCard.getAttribute('href')) {
          window.location.href = reviewCard.getAttribute('href');
        }
      });
      reviewsGrid.addEventListener('keydown', function(e) {
        if ((e.key === 'Enter' || e.key === ' ') && e.target.classList.contains('review-card')) {
          e.preventDefault();
          e.target.click();
        }
      });
    });
  </script>
</body>
</html>

